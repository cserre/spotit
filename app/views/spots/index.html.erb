<div class="container">
  <div class="row">
    <div class="col-md-7">
      <!-- form to add specific filters -->
      <div class="row">
        <div class="col-xs-12">
          <%= form_tag('/spots', method: 'get') do %>
            <p><%= label_tag :style, "Style:" %>
            <%= text_field_tag :style, class: 'form-control' %></p>
            <p><%= label_tag :price, "Price:" %>
            <%= text_field_tag :price, placeholder: "Price", class: 'form-control' %></p>
            <p><%= label_tag :area, "Area:" %>
            <%= text_field_tag :area, class: 'form-control' %></p>
            <p><%= label_tag :exceptional_view, "Exceptional view:" %>
            <%= check_box_tag :exceptionalview, class: 'form-control' %></p>
            <p><%= label_tag :modular_furniture, "Modular furniture:" %>
            <%= check_box_tag :modular_furniture, class: 'form-control' %></p>
            <p><%= label_tag :exposition, "Exposition:" %>
            <%= text_field_tag :exposition, class: 'form-control' %></p>

            <%= submit_tag "Search", class: 'btn btn-primary' %>
          <% end %>
        </div>
      </div>

<!--       <div class="row">
        <%= simple_form_for :spot, :url => spots_path, :method => :get do |f| %>
        <%= f.error_notification %>

        <%= f.input :style %>
        <%= f.input :price %>
        <%= f.input :area %>
        <%= f.input :exceptional_view, as: :boolean %>
        <%= f.input :modular_furniture, as: :boolean %>
        <%= f.input :exposition, collection: %w( N S E O ) %>

        <%= f.button :submit, class: 'btn btn-primary' %>

        <% end %>
      </div> -->

      <!-- show all spots according to filters -->
      <% @spots.each do |spot| %>
        <% if spot.visible && (@params["city"].nil? ? true : spot.city == @params["city"]) && (@params["style"].nil? ? true : spot.style == @params["style"])
           %>
          <div class="col-md-6">
            <div class="card">
              <span class="card-bg" style="background-image: url(<%= image_path 'loft1.png' %>)"></span>
              <span class="card-gradient"></span>
              <!-- <span class="card-rating">

                <%= ("<i class='fa fa-star' style='color: #FFCE54;'></i>" * 4).html_safe %>
              </span> -->
              <span class="card-price">
                <%= spot.price.to_s + ' â‚¬/day' %>
              </span>
              <a href="" class="card-link"></a>
            </div>
            <div class="card-detail">
              <div class="title"><%= spot.title %></div>
            </div>

          </div>
        <% end %>
      <% end %>
    </div>
    <div class="col-md-5">
      <!-- map -->
      <div id="map"></div>
    </div>
  </div>
</div>

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>

<script type="text/javascript">
var myLatlng = new google.maps.LatLng(48.852937,2.364178);

var myOptions = {
  zoom: 16,
  center: myLatlng,
  scrollwheel: false,
  mapTypeId: google.maps.MapTypeId.ROADMAP,
  styles: [
    {
        "featureType": "landscape",
        "stylers": [
            {
                "hue": "#FFBB00"
            },
            {
                "saturation": 43.400000000000006
            },
            {
                "lightness": 37.599999999999994
            },
            {
                "gamma": 1
            }
        ]
    },
    {
        "featureType": "road.highway",
        "stylers": [
            {
                "hue": "#FFC200"
            },
            {
                "saturation": -61.8
            },
            {
                "lightness": 45.599999999999994
            },
            {
                "gamma": 1
            }
        ]
    },
    {
        "featureType": "road.arterial",
        "stylers": [
            {
                "hue": "#FF0300"
            },
            {
                "saturation": -100
            },
            {
                "lightness": 51.19999999999999
            },
            {
                "gamma": 1
            }
        ]
    },
    {
        "featureType": "road.local",
        "stylers": [
            {
                "hue": "#FF0300"
            },
            {
                "saturation": -100
            },
            {
                "lightness": 52
            },
            {
                "gamma": 1
            }
        ]
    },
    {
        "featureType": "water",
        "stylers": [
            {
                "hue": "#0078FF"
            },
            {
                "saturation": -13.200000000000003
            },
            {
                "lightness": 2.4000000000000057
            },
            {
                "gamma": 1
            }
        ]
    },
    {
        "featureType": "poi",
        "stylers": [
            {
                "hue": "#00FF6A"
            },
            {
                "saturation": -1.0989010989011234
            },
            {
                "lightness": 11.200000000000017
            },
            {
                "gamma": 1
            }
        ]
    }
]
};

var map = new google.maps.Map(document.getElementById('map'), myOptions);
var marker = new google.maps.Marker({
  position: myLatlng,
  map: map,
  title: "You are here!"
});
</script>
